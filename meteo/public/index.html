<!DOCTYPE html>
<html>
  <head>
    <title>Meteo Display</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="pureknob.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="qweather-icons.css">
    <style>
      body {
        text-align: center;
        font-family: Verdana, Geneva, sans-serif;
        font-size: 14px;
        font-style: normal;
        font-variant: normal;
        font-weight: 500;
        line-height: 20px;
      }
      .icon {
        font-size: 3rem;
      }
    </style>
  </head>
  <body class="overflow-x-hidden">

    <div class="flex flex-col items-center justify-center w-screen min-h-screen text-gray-700 p-10 bg-gradient-to-br from-pink-200 via-purple-200 to-indigo-200 ">

      <!-- Component Start -->
      <div class="w-full max-w-screen-sm bg-white p-10 rounded-xl ring-8 ring-white ring-opacity-40">
        <div class="flex justify-between">
          <div class="flex flex-col">
            <span class="text-6xl font-bold text-left" id="temperature">0°C</span>
            <span class="font-semibold mt-1 text-gray-500">Timisoara, Liceul J.L. Calderon</span>
          </div>
          <!--<svg class="h-24 w-24 fill-current text-yellow-400" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z"/></svg>
          -->
          <img src="./logo.png" class="h-24 w-24" />
        </div>
        <div class="flex justify-between mt-12">
          <div class="flex flex-col items-center">
            <span class="font-light text-lg">Umiditate</span>
            <div class="icon">
              <i class="material-symbols-outlined h-10 w-10 text-gray-400 mt-3 qi-2019"></i>
            </div>
            <span class="font-semibold text-lg" id="humidity">0%</span>
            <!--<svg class="h-10 w-10 fill-current text-gray-400 mt-3" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z"/></svg>-->
          </div>
          <div class="flex flex-col items-center">
            <span class="font-light text-lg">Vant</span>
            <div class="icon">
              <i class="material-symbols-outlined h-10 w-10 text-gray-400 mt-3 qi-dust-raising-winds"></i>
            </div>
            <span class="font-semibold text-lg" id="wind">0 km/h</span>
            <!--<svg class="h-10 w-10 fill-current text-gray-400 mt-3" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z"/></svg>-->
          </div>
          <div class="flex flex-col items-center">
            <span class="font-light text-lg">Presiune Atmosferica</span>
            <div class="icon">
              <i class="material-symbols-outlined h-10 w-10 text-gray-400 mt-3 qi-1022"></i>
            </div>
            <span class="font-semibold text-lg" id="pressure">0 hPa</span>
            <!--<svg class="h-10 w-10 fill-current text-gray-400 mt-3" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z"/></svg>-->
          </div>
      </div>
    
    </div>
    <script>
      setInterval(() => {
        fetch("/data")
          .then((response) => response.json())
          .then((data) => {
            const html = Object.entries(data)
              .map(([key, value]) => cool(key, value))
              .join("");
          });
      }, 800);
      function cool(key, value) {
        if (key == "humidity") {
            document.getElementById("humidity").innerHTML = value + "%";
        } else if (key == "temperature") {
          document.getElementById("temperature").innerHTML = value + "°C";
        } else if (key == "wind") {
          document.getElementById("wind").innerHTML = value + " km/h";
        } else if (key == "pressure") {
          document.getElementById("pressure").innerHTML = value + " hPa";
        }
      }
    </script>
  </body>
</html>
